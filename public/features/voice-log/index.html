<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Violation Reporter - Silent Voice Log</title>
  <link rel="stylesheet" href="/features/voice-log/voice-log.css" />
</head>
<body>
  <div class="container">
    <h2>ðŸš¨ Violation Reporter</h2>
    <div class="grid">
      <div class="left-panel">
        <label for="victimName">Victim's Full Name *</label>
        <input type="text" id="victimName" placeholder="Your full name" required />

        <label for="culpritName">Culprit's Name (if known)</label>
        <input type="text" id="culpritName" placeholder="Name of culprit (optional)" />

        <label for="crimeType">Crime Type *</label>
        <select id="crimeType" required>
          <option value="" disabled selected>Select crime type</option>
          <option>Harassment</option>
          <option>Assault</option>
          <option>Domestic Violence</option>
          <option>Dowry Prohibition</option>
          <option>Other</option>
        </select>

        <label for="incidentDate">Incident Date *</label>
        <input type="date" id="incidentDate" required />

        <label for="incidentTime">Incident Time *</label>
        <input type="time" id="incidentTime" required />

        <label for="city">City *</label>
        <input type="text" id="city" placeholder="City" required />

        <label for="state">State *</label>
        <input type="text" id="state" placeholder="State" required />

        <label for="country">Country *</label>
        <input type="text" id="country" placeholder="Country" required />

        <label for="pincode">Pincode *</label>
        <input type="text" id="pincode" placeholder="Area Pincode" required />

        <label for="description">Description *</label>
        <textarea id="description" rows="5" placeholder="Describe the incident in detail" required></textarea>

        <div>
          <button id="startRecord">Start Audio Recording</button>
          <button id="stopRecord" disabled>Stop & Save Audio</button>
          <p id="status">Click to begin recording...</p>
          <audio id="audioPlayback" controls style="display:none;"></audio>
        </div>

        <div>
          <label>Capture Video or Photo:</label><br />
          <video id="videoPreview" autoplay muted playsinline style="display:none; border-radius: 8px; max-width: 100%;"></video><br />
          <canvas id="canvas" style="display:none;"></canvas><br />
          <button id="startVideo">Start Camera</button>
          <button id="capturePhoto" disabled>Capture Photo</button>
          <button id="stopVideo" disabled>Stop Camera</button><br /><br />
          <video id="videoRecording" controls style="display:none; max-width: 100%; border-radius: 8px;"></video>
          <button id="startVideoRecord" disabled>Start Video Recording</button>
          <button id="stopVideoRecord" disabled>Stop Video Recording</button>
        </div>

        <div>
          <p><strong>Geolocation:</strong> <span id="geoStatus">Fetching location...</span></p>
          <p>Latitude: <span id="latitude">N/A</span></p>
          <p>Longitude: <span id="longitude">N/A</span></p>
        </div>

        <button id="generateComplaint">Generate AI Complaint</button>
      </div>

      <div class="right-panel">
        <h3>Complaint Preview (Editable)</h3>
        <textarea id="complaintPreview" rows="15" placeholder="AI-generated complaint will appear here. You can edit before sending..."></textarea>

        <div id="attachmentsPreview">
          <h4>Attachments Preview</h4>
          <audio id="audioAttachment" controls style="display:none;"></audio>
          <img id="photoAttachment" alt="Captured Photo" style="display:none; max-width:100%; margin-top:1rem;" />
          <video id="videoAttachment" controls style="display:none; max-width:100%; margin-top:1rem;"></video>
        </div>

        <button id="sendComplaint" disabled>Send Complaint</button>
        <p id="sendStatus"></p>
        <div id="sendInfo" style="margin-top: 1rem; font-size: 0.9rem; color: #ddd;"></div>
      </div>
    </div>
  </div>

  <script src="/features/voice-log/voice-log.js"></script>
</body>
</html>
